(function(t){function e(e){for(var n,r,d=e[0],l=e[1],s=e[2],u=0,p=[];u<d.length;u++)r=d[u],i[r]&&p.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);a&&a(e);while(p.length)p.shift()();return c.push.apply(c,s||[]),o()}function o(){for(var t,e=0;e<c.length;e++){for(var o=c[e],n=!0,d=1;d<o.length;d++){var l=o[d];0!==i[l]&&(n=!1)}n&&(c.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},i={app:0},c=[];function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=e,d=d.slice();for(var s=0;s<d.length;s++)e(d[s]);var a=l;c.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("097d");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"app"}},[n("img",{staticClass:"logo",attrs:{alt:"Vue logo",src:o("cf05")}}),n("HelloWorld",{staticClass:"title",attrs:{msg:"Todo Vue.js App"}}),n("TodoList")],1)},c=[],r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hello"},[o("h1",[t._v(t._s(t.msg))])])},d=[],l={name:"HelloWorld",props:{msg:String}},s=l,a=(o("5d06"),o("2877")),u=Object(a["a"])(s,r,d,!1,null,"43f48a4c",null);u.options.__file="HelloWorld.vue";var p=u.exports,f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodoTitle,expression:"newTodoTitle"}],staticClass:"todo-input",attrs:{type:"text",placeholder:"What needs to be done"},domProps:{value:t.newTodoTitle},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.addTodo(e):null},input:function(e){e.target.composing||(t.newTodoTitle=e.target.value)}}}),o("transition-group",{attrs:{name:"fade","enter-active-class":"animated fadeInUp","leave-active-class":"animated fadeOutDown"}},t._l(t.todosFiltered,function(e,n){return o("TodoItem",{key:e.id,attrs:{todo:e,index:n,checkAll:!t.anyRemaining}})}),1),o("div",{staticClass:"todo-manage"},[o("TodoCheckAll"),o("TodoRemoveCompleted"),o("TodoItemsLeft")],1),o("TodoFilter")],1)},m=[],h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-item"},[o("div",{staticClass:"todo-item-left"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.completed,expression:"completed"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.completed)?t._i(t.completed,null)>-1:t.completed},on:{change:[function(e){var o=t.completed,n=e.target,i=!!n.checked;if(Array.isArray(o)){var c=null,r=t._i(o,c);n.checked?r<0&&(t.completed=o.concat([c])):r>-1&&(t.completed=o.slice(0,r).concat(o.slice(r+1)))}else t.completed=i},t.doneEditTodo]}}),t.editing?o("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"},{name:"focus",rawName:"v-focus"}],staticClass:"todo-item-edit",attrs:{type:"text"},domProps:{value:t.title},on:{blur:t.doneEditTodo,keyup:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.doneEditTodo(e):null},function(e){return"button"in e||!t._k(e.keyCode,"escape",void 0,e.key,void 0)?t.cancelEditTodo(e):null}],input:function(e){e.target.composing||(t.title=e.target.value)}}}):o("div",{staticClass:"todo-item-title",class:{completed:t.completed},on:{dblclick:t.editTodo}},[t._v(t._s(t.title))])]),o("div",{staticClass:"todo-item-remove",on:{click:function(e){t.removeTodo(t.id)}}},[t._v("Ã—")])])},v=[],T=(o("c5f6"),{name:"TodoItem",props:{todo:{type:Object,required:!0},index:{type:Number,required:!0},checkAll:{type:Boolean,required:!0}},watch:{checkAll:function(){this.checkAll?this.completed=!0:this.completed=this.todo.completed}},directives:{focus:{inserted:function(t){t.focus()}}},data:function(){return{id:this.todo.id,title:this.todo.title,editing:this.todo.editing,completed:this.todo.completed,beforeEditCache:""}},methods:{removeTodo:function(t){this.$store.dispatch("removeTodo",t)},editTodo:function(){this.beforeEditCache=this.title,this.editing=!0},doneEditTodo:function(){0==this.title.trim().length&&(this.title=this.beforeEditCache),this.editing=!1,this.$store.dispatch("updateTodo",{id:this.id,title:this.title,editing:this.editing,completed:this.completed})},cancelEditTodo:function(){this.title=this.beforeEditCache,this.editing=!1}}}),g=T,_=Object(a["a"])(g,h,v,!1,null,null,null);_.options.__file="TodoItem.vue";var b=_.exports,y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-check-all"},[o("label",[o("input",{attrs:{type:"checkbox"},domProps:{checked:!t.anyRemaining},on:{change:t.checkAll}}),t._v(" Check all\n  ")])])},C=[],k={name:"TodoCheckAll",computed:{anyRemaining:function(){return this.$store.getters.anyRemaining}},methods:{checkAll:function(){this.$store.dispatch("checkAll",event.target.checked)}}},w=k,x=Object(a["a"])(w,y,C,!1,null,null,null);x.options.__file="TodoCheckAll.vue";var j=x.exports,A=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.showRemoveCompletedButton?o("div",{staticClass:"todo-remove-completed",on:{click:t.removeCompletedTodos}},[t._v("Remove completed")]):t._e()},E=[],$={name:"TodoRemoveCompleted",computed:{showRemoveCompletedButton:function(){return this.$store.getters.showRemoveCompletedButton},getCompletedTodosIds:function(){return this.$store.getters.getCompletedTodosIds}},methods:{removeCompletedTodos:function(){this.$store.dispatch("removeCompletedTodos")}}},O=$,F=Object(a["a"])(O,A,E,!1,null,null,null);F.options.__file="TodoRemoveCompleted.vue";var I=F.exports,R=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-items-left"},[t._v(t._s(t.remaining)+" items left")])},P=[],L={name:"TodoItemsLeft",computed:{remaining:function(){return this.$store.getters.remaining}}},S=L,B=Object(a["a"])(S,R,P,!1,null,null,null);B.options.__file="TodoItemsLeft.vue";var H=B.exports,N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-filter"},[o("button",{class:{active:"all"==t.filter},on:{click:function(e){t.changeFilter("all")}}},[t._v("All")]),o("button",{class:{active:"active"==t.filter},on:{click:function(e){t.changeFilter("active")}}},[t._v("Active")]),o("button",{class:{active:"completed"==t.filter},on:{click:function(e){t.changeFilter("completed")}}},[t._v("Completed")])])},W=[],M={name:"TodoFilter",computed:{filter:function(){return this.$store.state.filter}},methods:{changeFilter:function(t){this.$store.dispatch("changeFilter",t)}}},q=M,D=Object(a["a"])(q,N,W,!1,null,null,null);D.options.__file="TodoFilter.vue";var J=D.exports,V={name:"TodoList",components:{TodoItem:b,TodoCheckAll:j,TodoRemoveCompleted:I,TodoItemsLeft:H,TodoFilter:J},mounted:function(){this.$store.dispatch("loadTodos")},data:function(){return{newTodoTitle:"",newTodoId:0}},computed:{anyRemaining:function(){return this.$store.getters.anyRemaining},todosFiltered:function(){return this.$store.getters.todosFiltered}},methods:{addTodo:function(){0!=this.newTodoTitle.trim().length&&(this.$store.dispatch("addTodo",{title:this.newTodoTitle,completed:!1}),this.newTodoTitle="")}}},G=V,U=(o("71e8"),Object(a["a"])(G,f,m,!1,null,null,null));U.options.__file="TodoList.vue";var z=U.exports,K={name:"app",components:{HelloWorld:p,TodoList:z}},Q=K,X=(o("5c0b"),Object(a["a"])(Q,i,c,!1,null,null,null));X.options.__file="App.vue";var Y=X.exports,Z=o("cebc"),tt=o("f499"),et=o.n(tt),ot=(o("20d6"),o("2f62"));n["a"].use(ot["a"]);var nt="https://cors-anywhere.herokuapp.com/",it="https://server-for-todo-by-koa.herokuapp.com/todos",ct=new ot["a"].Store({state:{filter:"all",todos:[]},getters:{remaining:function(t){return t.todos.filter(function(t){return!t.completed}).length},anyRemaining:function(t,e){return 0!=e.remaining},todosFiltered:function(t){return"all"===t.filter?t.todos:"active"===t.filter?t.todos.filter(function(t){return!t.completed}):"completed"===t.filter?t.todos.filter(function(t){return t.completed}):t.todos},showRemoveCompletedButton:function(t){return t.todos.filter(function(t){return t.completed}).length>0},getCompletedTodosIds:function(t){return t.todos.map(function(t){if(t.completed)return t.id})}},mutations:{loadTodos:function(t,e){t.todos=e},addTodo:function(t,e){t.todos.push({id:e.id,title:e.title,completed:e.completed,editing:e.editing})},updateTodo:function(t,e){var o=t.todos.findIndex(function(t){return t.id==e.id});t.todos.splice(o,1,{id:e.id,title:e.title,editing:e.editing,completed:e.completed})},removeTodo:function(t,e){var o=t.todos.findIndex(function(t){return t.id==e});t.todos.splice(o,1)},removeCompletedTodos:function(t){t.todos=t.todos.filter(function(t){return!t.completed})},changeFilter:function(t,e){t.filter=e},checkAll:function(t,e){t.todos.map(function(t){return t.completed=e})}},actions:{loadTodos:function(t){fetch(nt+it,{method:"GET",headers:{}}).then(function(t){return t.json()}).then(function(t){return t.map(function(t){t.id=t._id,delete t._id}),t}).then(function(t){return console.log(t),t}).then(function(e){return t.commit("loadTodos",e)}).catch(function(t){return console.log(t)})},addTodo:function(t,e){fetch(nt+it,{method:"POST",body:et()(e),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){return t.dispatch("loadTodos")}).catch(function(t){return alert(t)})},updateTodo:function(t,e){var o=Object(Z["a"])({},e),n=o.id;delete o.id,delete o.editing,fetch("".concat(nt+it,"/").concat(n),{method:"PATCH",body:et()(o),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(){return t.dispatch("loadTodos")}).catch(function(t){return alert(t)})},removeTodo:function(t,e){fetch("".concat(nt+it,"/").concat(e),{method:"DELETE"}).then(function(){return t.dispatch("loadTodos")}).catch(function(t){return alert(t)})},removeCompletedTodos:function(t){var e=this.getters.getCompletedTodosIds;e.map(function(e){return t.dispatch("removeTodo",e)})},changeFilter:function(t,e){t.commit("changeFilter",e)},checkAll:function(t,e){this.state.todos.map(function(o){o.completed=e,t.dispatch("updateTodo",o)})}}});window.eventBus=new n["a"],n["a"].config.productionTip=!1,new n["a"]({store:ct,render:function(t){return t(Y)}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";var n=o("5e27"),i=o.n(n);i.a},"5d06":function(t,e,o){"use strict";var n=o("c671"),i=o.n(n);i.a},"5e27":function(t,e,o){},"71e8":function(t,e,o){"use strict";var n=o("b8aa"),i=o.n(n);i.a},b8aa:function(t,e,o){},c671:function(t,e,o){},cf05:function(t,e,o){t.exports=o.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.41ce9f2d.js.map